# ⏱️ 超时测试 - 快速开始

## ✅ 已完成的修改

在 `frontend/src/utils/request.js` 中添加了超时错误处理:

```javascript
// 请求超时
if (error.code === 'ECONNABORTED' || error.message?.includes('timeout')) {
  console.error('⏱️ 请求超时:', error);
  error.message = '请求超时,请检查网络连接后重试';
}

// 网络错误
if (error.message === 'Network Error') {
  console.error('🌐 网络错误:', error);
  error.message = '网络连接失败,请检查网络设置';
}
```

## 🧪 测试方法

### 方法 1: 使用 Chrome 网络限速 (推荐)

1. 打开 http://localhost:5173/tools/link-dashboard
2. 按 `F12` 打开开发者工具
3. 切换到 **Network** 标签
4. 找到 **Throttling** 下拉菜单 (通常在顶部)
5. 选择 **Slow 3G**
6. 刷新页面 (`Ctrl+Shift+R`)
7. 观察请求是否在 **10 秒后超时**

**预期结果:**
- Console 显示: `⏱️ 请求超时: Error: timeout of 10000ms exceeded`
- Console 显示: `请求超时,请检查网络连接后重试`
- Network 面板显示: Status `(failed)`, Time `~10.00s`

---

### 方法 2: 浏览器 Console 快速测试

在浏览器 Console 中执行:

```javascript
// 临时设置 1 秒超时以快速触发
import('/src/utils/request.js').then(m => {
  m.default.defaults.timeout = 1000;
  console.log('✅ 超时已设为 1 秒');
  
  // 发送测试请求
  m.default.get('/categories')
    .then(res => console.log('✅ 成功:', res.data))
    .catch(err => console.log('❌ 错误:', err.message));
});

// 刷新页面恢复 10 秒设置
```

**预期输出:**
```
✅ 超时已设为 1 秒
⏱️ 请求超时: Error: timeout of 1000ms exceeded
❌ 错误: 请求超时,请检查网络连接后重试
```

---

## 📸 需要的截图

1. **Console 输出** - 显示超时错误日志
2. **Network 面板** - 显示请求状态为 `(failed)` 和耗时约 10 秒

---

## 🎯 验证清单

- [ ] Console 显示 `⏱️ 请求超时:` 日志
- [ ] Console 显示友好错误消息: `请求超时,请检查网络连接后重试`
- [ ] Network 面板请求状态为 `(failed)` 或 `ERR_TIMEOUT`
- [ ] Network 面板显示耗时接近 10 秒 (或设置的超时值)
- [ ] 页面显示错误提示 (如果组件有错误 UI)
- [ ] 测试后功能恢复正常

---

完整测试指南请查看: **请求超时测试指南.md**
