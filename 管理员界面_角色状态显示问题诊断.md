# ğŸ”§ ç®¡ç†å‘˜ç•Œé¢ - è§’è‰²å’ŒçŠ¶æ€æ˜¾ç¤ºé—®é¢˜è¯Šæ–­

## ğŸ“Š é—®é¢˜åˆ†æ

### å½“å‰ä»£ç ç»“æ„

**è§’è‰²æ˜¾ç¤º (ç¬¬26-29è¡Œ)**:
```vue
<td>
  <span :class="['role-badge', user.role]">
    {{ user.role === 'admin' ? 'ç®¡ç†å‘˜' : 'æ™®é€šç”¨æˆ·' }}
  </span>
</td>
```

**çŠ¶æ€æ˜¾ç¤º (ç¬¬30-33è¡Œ)**:
```vue
<td>
  <span :class="['status-badge', user.is_active ? 'active' : 'inactive']">
    {{ user.is_active ? 'æ­£å¸¸' : 'å·²ç¦ç”¨' }}
  </span>
</td>
```

---

## ğŸ› å¯èƒ½çš„é—®é¢˜

### é—®é¢˜1: æ•°æ®ç±»å‹ä¸åŒ¹é…

**ç—‡çŠ¶**: çŠ¶æ€å§‹ç»ˆæ˜¾ç¤º"å·²ç¦ç”¨"æˆ–"æ­£å¸¸"
**åŸå› **: `is_active` å¯èƒ½æ˜¯å­—ç¬¦ä¸² "true"/"false" è€Œä¸æ˜¯å¸ƒå°”å€¼

**æ£€æŸ¥æ–¹æ³•**:
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°
console.log(typeof users[0].is_active);  // åº”è¯¥æ˜¯ "boolean"
console.log(users[0].is_active);          // åº”è¯¥æ˜¯ true æˆ– false
```

### é—®é¢˜2: è§’è‰²å­—æ®µå€¼ä¸æ­£ç¡®

**ç—‡çŠ¶**: è§’è‰²å¾½ç« æ ·å¼ä¸æ˜¾ç¤ºæˆ–æ–‡å­—é”™è¯¯
**åŸå› **: 
- `user.role` å¯èƒ½æ˜¯ null æˆ– undefined
- `user.role` å¯èƒ½æ˜¯å…¶ä»–å€¼ï¼ˆå¦‚ "administrator" è€Œä¸æ˜¯ "admin"ï¼‰

**æ£€æŸ¥æ–¹æ³•**:
```javascript
// åœ¨æµè§ˆå™¨æ§åˆ¶å°
console.log(users.map(u => u.role));  // æŸ¥çœ‹æ‰€æœ‰è§’è‰²å€¼
```

### é—®é¢˜3: CSS æ ·å¼æœªç”Ÿæ•ˆ

**ç—‡çŠ¶**: å¾½ç« æ˜¾ç¤ºä¸ºçº¯æ–‡æœ¬ï¼Œæ²¡æœ‰èƒŒæ™¯è‰²
**åŸå› **: 
- scoped æ ·å¼å¯èƒ½æœ‰é—®é¢˜
- CSS ç±»åå†²çª

---

## âœ… ä¿®å¤æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆæ¨èï¼‰

ä¿®æ”¹ä»£ç ä»¥ç¡®ä¿æ•°æ®ç±»å‹æ­£ç¡®ï¼š

```vue
<td>
  <span :class="['role-badge', user.role || 'user']">
    {{ getRoleText(user.role) }}
  </span>
</td>
<td>
  <span :class="['status-badge', Boolean(user.is_active) ? 'active' : 'inactive']">
    {{ Boolean(user.is_active) ? 'æ­£å¸¸' : 'å·²ç¦ç”¨' }}
  </span>
</td>
```

æ·»åŠ è¾…åŠ©å‡½æ•°ï¼š
```javascript
function getRoleText(role) {
  const roleMap = {
    'admin': 'ç®¡ç†å‘˜',
    'administrator': 'ç®¡ç†å‘˜',
    'user': 'æ™®é€šç”¨æˆ·',
    'normal': 'æ™®é€šç”¨æˆ·'
  };
  return roleMap[role] || 'æ™®é€šç”¨æˆ·';
}
```

### æ–¹æ¡ˆ2: æ·»åŠ è°ƒè¯•ä¿¡æ¯

ä¸´æ—¶æ·»åŠ è°ƒè¯•ä»£ç ï¼š
```vue
<td>
  <span :class="['role-badge', user.role]">
    {{ user.role === 'admin' ? 'ç®¡ç†å‘˜' : 'æ™®é€šç”¨æˆ·' }}
    <!-- è°ƒè¯•: {{ user.role }} -->
  </span>
</td>
<td>
  <span :class="['status-badge', user.is_active ? 'active' : 'inactive']">
    {{ user.is_active ? 'æ­£å¸¸' : 'å·²ç¦ç”¨' }}
    <!-- è°ƒè¯•: {{ user.is_active }} / {{ typeof user.is_active }} -->
  </span>
</td>
```

### æ–¹æ¡ˆ3: å¢å¼ºç‰ˆå¾½ç« ç»„ä»¶

åˆ›å»ºæ›´å¥å£®çš„æ˜¾ç¤ºé€»è¾‘ï¼š

```vue
<template>
  <!-- ... å…¶ä»–ä»£ç  ... -->
  <td>
    <RoleBadge :role="user.role" />
  </td>
  <td>
    <StatusBadge :status="user.is_active" />
  </td>
  <!-- ... å…¶ä»–ä»£ç  ... -->
</template>

<script setup>
// è§’è‰²å¾½ç« ç»„ä»¶
const RoleBadge = ({ role }) => {
  const normalizedRole = String(role || 'user').toLowerCase();
  const isAdmin = normalizedRole === 'admin' || normalizedRole === 'administrator';
  
  return {
    class: ['role-badge', isAdmin ? 'admin' : 'user'],
    text: isAdmin ? 'ç®¡ç†å‘˜' : 'æ™®é€šç”¨æˆ·'
  };
};

// çŠ¶æ€å¾½ç« ç»„ä»¶
const StatusBadge = ({ status }) => {
  const isActive = Boolean(status === true || status === 'true' || status === 1);
  
  return {
    class: ['status-badge', isActive ? 'active' : 'inactive'],
    text: isActive ? 'æ­£å¸¸' : 'å·²ç¦ç”¨'
  };
};
</script>
```

---

## ğŸ§ª è¯Šæ–­æ­¥éª¤

### 1. æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·

æŒ‰ `F12` æ‰“å¼€æ§åˆ¶å°

### 2. æ£€æŸ¥ç”¨æˆ·æ•°æ®

åœ¨ Console ä¸­è¾“å…¥ï¼š
```javascript
// æŸ¥çœ‹ç¬¬ä¸€ä¸ªç”¨æˆ·çš„å®Œæ•´æ•°æ®
console.log('ç”¨æˆ·æ•°æ®:', JSON.stringify(users.value[0], null, 2));

// æ£€æŸ¥è§’è‰²å­—æ®µ
console.log('è§’è‰²å€¼:', users.value.map(u => ({
  username: u.username,
  role: u.role,
  roleType: typeof u.role
})));

// æ£€æŸ¥çŠ¶æ€å­—æ®µ
console.log('çŠ¶æ€å€¼:', users.value.map(u => ({
  username: u.username,
  is_active: u.is_active,
  activeType: typeof u.is_active
})));
```

### 3. æ£€æŸ¥ DOM å…ƒç´ 

åœ¨ Elements æ ‡ç­¾ä¸­æŸ¥çœ‹å®é™…æ¸²æŸ“çš„ HTMLï¼š
```html
<!-- åº”è¯¥çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„ç»“æ„ -->
<span class="role-badge admin">ç®¡ç†å‘˜</span>
<span class="status-badge active">æ­£å¸¸</span>
```

å¦‚æœçœ‹åˆ°ï¼š
```html
<!-- é”™è¯¯ï¼šç¼ºå°‘ admin/user ç±» -->
<span class="role-badge">ç®¡ç†å‘˜</span>

<!-- é”™è¯¯ï¼šç¼ºå°‘ active/inactive ç±» -->
<span class="status-badge">æ­£å¸¸</span>
```

è¯´æ˜æ•°æ®ç»‘å®šæœ‰é—®é¢˜ã€‚

### 4. æ£€æŸ¥ç½‘ç»œè¯·æ±‚

åœ¨ Network æ ‡ç­¾ä¸­æ‰¾åˆ° `/api/admin/users` è¯·æ±‚ï¼ŒæŸ¥çœ‹å“åº”æ•°æ®ï¼š
```json
{
  "id": 1,
  "username": "admin",
  "role": "admin",        // åº”è¯¥æ˜¯å­—ç¬¦ä¸² "admin" æˆ– "user"
  "is_active": true       // åº”è¯¥æ˜¯å¸ƒå°”å€¼ true æˆ– false
}
```

---

## ğŸ”¨ ç«‹å³ä¿®å¤ä»£ç 

åŸºäºæœ€å¸¸è§çš„é—®é¢˜ï¼Œè¿™æ˜¯æœ€ç¨³å¦¥çš„ä¿®å¤æ–¹æ¡ˆï¼š
