# 阶段3 - 高级功能开发计划

开始日期: 2025-10-16

---

## 📋 功能列表

### ✅ 3.1 文章浏览统计 (已完成)
- ✅ 数据库添加 views 字段
- ✅ 访问详情页自动 +1
- ✅ 列表页显示浏览次数
- ✅ 热门文章排序

### 🔄 3.2 暗黑模式 (进行中)
- [ ] 主题切换功能
- [ ] 自动跟随系统
- [ ] 本地存储偏好

### 📋 3.3 响应式设计
- [ ] 移动端适配
- [ ] 平板适配
- [ ] 触摸优化

### 📋 3.4 图片上传
- [ ] 文章内插入图片
- [ ] 用户头像上传
- [ ] 图片压缩优化

### 📋 3.5 评论系统
- [ ] 发表评论
- [ ] 回复评论
- [ ] 删除评论
- [ ] 评论通知

---

## ✅ 3.1 文章浏览统计 - 完成总结

### 数据库更新
**迁移脚本**: `add_views_to_posts.py`
```python
ALTER TABLE posts ADD COLUMN views INT DEFAULT 0
```
✅ 执行成功！

### 后端更新
1. **models.py**: 添加 `views` 字段
2. **schemas.py**: `Post` 模型添加 `views`
3. **crud.py**: 新增 `increment_post_views()` 函数
4. **main.py**: 查看详情时自动增加浏览次数

### 前端更新
1. **PostsPage.vue**: 
   - 显示浏览次数（👁️ 图标）
   - 添加排序选择器（最新/热门）
   - 前端排序逻辑

2. **PostDetailPage.vue**:
   - 显示浏览次数

### 功能特性
- ✅ 自动统计浏览次数
- ✅ 列表页显示浏览量
- ✅ 详情页显示浏览量
- ✅ 按浏览量排序（热门文章）
- ✅ 按发布时间排序（最新文章）

### 测试要点
- [ ] 访问文章详情页，浏览次数 +1
- [ ] 刷新页面，浏览次数继续增加
- [ ] 列表页正确显示浏览次数
- [ ] 切换排序方式生效
- [ ] 热门文章排序正确

---

## 下一步：暗黑模式

准备实现主题切换功能...
